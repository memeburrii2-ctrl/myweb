<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>For Image ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&family=Pacifico&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<style>
  :root {
    --primary: #ff5e78;
    --bg-gradient: radial-gradient(circle at center, #fff0f6 0%, #ffdde1 100%);
  }

  body {
    margin: 0;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background: var(--bg-gradient);
    font-family: 'Kanit', sans-serif;
    overflow: hidden;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
  }

  /* --- LOCK SCREEN --- */
  #lock-screen {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: var(--bg-gradient); z-index: 9999;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    transition: opacity 0.5s, transform 0.5s;
  }
  #lock-screen.hidden { opacity: 0; pointer-events: none; transform: scale(1.1); }
  .lock-title { font-size: 1.6rem; color: var(--primary); margin-bottom: 30px; font-weight: 600; text-align: center; }
  .error-text { color: #ff0000 !important; transform: scale(1.1); }
  .pin-dots { display: flex; gap: 15px; margin-bottom: 40px; }
  .dot { width: 15px; height: 15px; border-radius: 50%; border: 2px solid var(--primary); transition: 0.2s; }
  .dot.filled { background: var(--primary); }
  .pin-pad { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
  .num-btn {
    width: 70px; height: 70px; border-radius: 50%;
    border: 1px solid rgba(255, 94, 120, 0.3); background: rgba(255, 255, 255, 0.5);
    font-size: 1.5rem; color: var(--primary); cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    transition: 0.2s; font-weight: 500;
  }
  .num-btn:active { background: var(--primary); color: white; }
  .num-btn.zero { grid-column: 2; }
  .shake-lock { animation: shake 0.4s; }

  /* --- MAIN APP --- */
  #main-app {
    display: none; width: 100%; height: 100vh;
    flex-direction: column; align-items: center; justify-content: center;
  }
  #main-app.show { display: flex; }

  .timer-box {
    position: fixed; top: 15px; left: 15px;
    font-size: 0.7rem; color: #ff5e78;
    background: rgba(255,255,255,0.8);
    padding: 6px 12px; border-radius: 12px;
    backdrop-filter: blur(2px); z-index: 50;
    text-align: left; border: 1px solid rgba(255, 255, 255, 0.5);
    line-height: 1.3; pointer-events: none;
  }
  .timer-box span { font-weight: 600; font-size: 0.85rem; }

  .header-badge {
    position: fixed; top: 80px;
    font-family: 'Pacifico', cursive; font-size: 1.8rem;
    color: var(--primary); background: white;
    padding: 8px 30px; border-radius: 50px;
    box-shadow: 0 5px 20px rgba(255, 94, 120, 0.2);
    z-index: 40; pointer-events: none;
  }

  .menu-btn {
    position: fixed; top: 15px; right: 15px;
    font-size: 1.5rem; color: var(--primary); background: white;
    width: 45px; height: 45px; border-radius: 50%; border: none;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1); cursor: pointer; z-index: 200;
    display: flex; align-items: center; justify-content: center;
  }

  .sidebar {
    position: fixed; top: 0; right: -260px;
    width: 250px; height: 100vh; background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px); box-shadow: -5px 0 20px rgba(0,0,0,0.1);
    transition: right 0.4s; z-index: 199; padding-top: 80px;
    display: flex; flex-direction: column; align-items: center;
  }
  .sidebar.open { right: 0; }

  .menu-item {
    width: 80%; padding: 15px; margin: 10px 0;
    background: #fff0f6; color: var(--primary);
    border-radius: 20px; text-align: center; font-size: 1.1rem;
    cursor: pointer; transition: 0.2s;
  }
  .menu-item.logout {
    margin-top: 20px;
    background: #ffe4e8; color: #ff3b5c; font-weight: 600;
    border: 1px solid rgba(255, 59, 92, 0.2);
  }

  .section {
    display: none; width: 100%; height: 100vh;
    flex-direction: column; align-items: center; justify-content: center;
    opacity: 0; transition: opacity 0.5s; padding-bottom: 150px; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏ú‡∏∑‡πà‡∏≠ Music Player */
  }
  .section.active { display: flex; opacity: 1; }

  .big-heart {
    font-size: 5rem; color: var(--primary);
    animation: heartbeat 1.5s infinite; margin-bottom: 20px;
  }
  .welcome-text { color: #666; font-size: 1.2rem; margin-top: 10px; }

  /* GAME UI */
  .game-container {
    background: rgba(255, 255, 255, 0.95); padding: 40px 30px;
    border-radius: 40px; box-shadow: 0 20px 60px rgba(255, 94, 120, 0.15);
    text-align: center; max-width: 400px; width: 85%;
    position: relative; z-index: 10; min-height: 250px;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    margin-top: 60px;
  }
  h1 { color: var(--primary); font-size: 2.0rem; margin: 0 0 10px 0; }
  #message { min-height: 50px; color: #666; font-size: 1.2rem; margin-bottom: 30px; display: flex; align-items: center; justify-content: center;}
  .buttons { display: flex; justify-content: center; gap: 20px; position: relative; width: 100%; height: 60px; align-items: center; font-size: 0; }
  button.game-btn {
    border: none; border-radius: 50px; padding: 15px 35px;
    font-size: 1.1rem; font-family: 'Kanit'; cursor: pointer;
    transition: 0.2s; box-shadow: 0 8px 20px rgba(0,0,0,0.1); white-space: nowrap;
  }
  #yesBtn { background: linear-gradient(45deg, #ff5e78, #ff8fa3); color: white; z-index: 100; }
  #noBtn { background: #eee; color: #777; z-index: 30; position: relative; transition: 0.3s; }

  /* MUSIC PLAYER (‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏´‡πâ‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô) */
  .music-player {
    position: fixed; 
    bottom: 50px; /* ‡∏¢‡∏Å‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô 50px */
    left: 50%; transform: translateX(-50%);
    width: 90%; max-width: 380px;
    background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(15px);
    border-radius: 20px; padding: 15px 20px;
    box-shadow: 0 10px 30px rgba(255, 94, 120, 0.3);
    display: flex; justify-content: space-between; align-items: center;
    z-index: 150; border: 1px solid rgba(255, 255, 255, 0.6);
    margin-bottom: env(safe-area-inset-bottom, 20px);
  }
  .track-info { display: flex; flex-direction: column; align-items: flex-start; flex-grow: 1; padding-left: 10px; overflow: hidden; }
  .track-name { font-size: 1rem; color: var(--primary); font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 180px; }
  .track-artist { font-size: 0.75rem; color: #888; }
  .player-controls { display: flex; align-items: center; gap: 15px; }
  .ctrl-btn {
    background: none; border: none; font-size: 1.2rem; color: var(--primary);
    cursor: pointer; transition: 0.2s; width: 35px; height: 35px;
    border-radius: 50%; display: flex; align-items: center; justify-content: center;
  }
  .play-btn { font-size: 1.5rem; background: #fff0f6; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }

  .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.2); z-index: 198; display: none; }
  .overlay.show { display: block; }

  /* ANIMATIONS */
  @keyframes heartbeat { 
    0% { transform: scale(1); } 15% { transform: scale(1.3); } 
    30% { transform: scale(1); } 45% { transform: scale(1.15); } 60% { transform: scale(1); } 
  }
  @keyframes shake { 0%, 100% { transform: translateX(0); } 20%, 60% { transform: translateX(-5px); } 40%, 80% { transform: translateX(5px); } }
  .shake { animation: shake 0.5s; color: #ff0000 !important; }
  .heart-float { position: fixed; pointer-events: none; animation: floatUp 4s ease-out forwards; z-index: 9999; }
  @keyframes floatUp { 0% { transform: translateY(0) scale(0.5); } 100% { transform: translateY(-120vh) scale(1.5); opacity: 0; } }

  /* ‡∏≠‡∏¥‡πÇ‡∏°‡∏à‡∏¥ 3D ‡∏•‡∏≠‡∏¢‡∏ü‡∏∏‡πâ‡∏á */
  .bg-emoji {
    position: fixed;
    bottom: -50px;
    font-size: 2.5rem;
    pointer-events: none;
    z-index: 1;
    opacity: 0.7;
    filter: drop-shadow(0 4px 6px rgba(0,0,0,0.1));
    animation: floatUpBg linear forwards;
  }

  @keyframes floatUpBg {
    0% { transform: translateY(0) rotate(0deg); opacity: 0; }
    10% { opacity: 0.9; }
    100% { transform: translateY(-110vh) rotate(360deg); opacity: 0; }
  }

  div:where(.swal2-container) div:where(.swal2-popup) { border-radius: 30px !important; font-family: 'Kanit', sans-serif !important; }

</style>
</head>
<body>

  <div id="lock-screen">
    <div class="lock-title" id="lockTitle">‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡πÉ‡∏à‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞‡∏Ñ‡∏ô‡∏î‡∏µ üîí</div>
    <div class="pin-dots">
      <div class="dot" id="dot1"></div><div class="dot" id="dot2"></div><div class="dot" id="dot3"></div>
      <div class="dot" id="dot4"></div><div class="dot" id="dot5"></div><div class="dot" id="dot6"></div>
    </div>
    <div class="pin-pad">
      <div class="num-btn" onclick="addPin('1')">1</div><div class="num-btn" onclick="addPin('2')">2</div><div class="num-btn" onclick="addPin('3')">3</div>
      <div class="num-btn" onclick="addPin('4')">4</div><div class="num-btn" onclick="addPin('5')">5</div><div class="num-btn" onclick="addPin('6')">6</div>
      <div class="num-btn" onclick="addPin('7')">7</div><div class="num-btn" onclick="addPin('8')">8</div><div class="num-btn" onclick="addPin('9')">9</div>
      <div class="num-btn zero" onclick="addPin('0')">0</div>
    </div>
  </div>

  <div id="main-app">
    <div class="timer-box" id="safeTimer">Loading...</div>
    <div class="header-badge" id="safeHeader">For Image üéÄ</div>
    <button class="menu-btn" onclick="toggleMenu()"><i class="fas fa-bars"></i></button>
    <div class="overlay" id="overlay" onclick="toggleMenu()"></div>
    
    <div class="sidebar" id="sidebar">
      <div class="menu-item" onclick="showSection('home')">üè† ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</div>
      <div class="menu-item" onclick="showSection('game')">üéÆ ‡πÄ‡∏Å‡∏°‡∏ó‡∏≤‡∏¢‡πÉ‡∏à</div>
      <div class="menu-item logout" onclick="handleLogout()"><i class="fas fa-right-from-bracket"></i> Log Out</div>
    </div>

    <div id="home-section" class="section active">
      <div class="big-heart">üíñ</div>
      <div class="welcome-text">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏Ñ‡∏£‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏Å</div>
    </div>

    <div id="game-section" class="section">
      <div class="game-container" id="safeContainer">
        <h1 id="question">‡∏≠‡∏¥‡∏°‡πÄ‡∏°‡∏à‡∏£‡∏±‡∏Å‡πÄ‡∏Ñ‡πâ‡∏≤‡πÑ‡∏´‡∏°? ü•∫</h1>
        <div id="message">‡∏ö‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á‡∏°‡∏≤‡∏ô‡∏∞...</div>
        <div class="buttons">
          <button class="game-btn" id="yesBtn">‡∏£‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</button>
          <button class="game-btn" id="noBtn">‡πÑ‡∏°‡πà‡∏£‡∏±‡∏Å</button>
        </div>
      </div>
    </div>

    <div class="music-player" id="safePlayer">
      <div class="track-info">
        <div class="track-name" id="trackName">‡πÄ‡∏û‡∏•‡∏á‡∏£‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏≠‡∏¥‡∏°‡πÄ‡∏°‡∏à üéµ</div>
        <div class="track-artist">For You</div>
      </div>
      <div class="player-controls">
        <button class="ctrl-btn play-btn" onclick="togglePlay()"><i class="fas fa-play" id="playIcon"></i></button>
        <button class="ctrl-btn" onclick="nextTrack()"><i class="fas fa-forward-step"></i></button>
      </div>
      <audio id="audioPlayer"></audio>
    </div>
  </div>

<script>
  /* ============ LOCK SCREEN ============ */
  const CORRECT_PIN = "080368";
  let currentPin = "";
  let wrongCount = 0;
  const wrongMessages = ["‡∏´‡πã‡∏≤‡∏≤‡∏≤ ‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏à‡∏£‡∏¥‡∏á‡∏´‡∏£‡∏≠ üò±", "‡∏ú‡∏¥‡∏î‡∏≠‡πà‡∏≤... ‡∏à‡∏≥‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏´‡∏£‡∏≠ üò≠", "‡∏ô‡πâ‡∏≠‡∏¢‡πÉ‡∏à‡∏ô‡∏∞‡πÄ‡∏ô‡∏µ‡πà‡∏¢...", "‡πÉ‡∏ö‡πâ‡πÉ‡∏´‡πâ: ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏£‡∏±‡∏Å‡∏Å‡∏±‡∏ô üíï", "‡πÄ‡∏≠‡πâ‡∏≤! ‡∏ú‡∏¥‡∏î‡∏≠‡∏µ‡∏Å‡πÅ‡∏•‡πâ‡∏ß"];

  function addPin(num) {
    if (currentPin.length < 6) {
      currentPin += num; updateDots();
      if (currentPin.length === 6) setTimeout(checkPin, 200);
    }
  }
  function updateDots() {
    for (let i = 1; i <= 6; i++) {
      document.getElementById(`dot${i}`).className = i <= currentPin.length ? 'dot filled' : 'dot';
    }
  }
  function checkPin() {
    if (currentPin === CORRECT_PIN) {
      document.getElementById('lock-screen').classList.add('hidden');
      setTimeout(() => {
        document.getElementById('lock-screen').style.display = 'none';
        document.getElementById('main-app').classList.add('show');
        startFloatingEmojis(); 
      }, 500);
    } else {
      const lockTitle = document.getElementById('lockTitle');
      lockTitle.innerText = wrongMessages[wrongCount % wrongMessages.length];
      lockTitle.classList.add('error-text');
      document.getElementById('lock-screen').classList.add('shake-lock');
      wrongCount++;
      setTimeout(() => {
        document.getElementById('lock-screen').classList.remove('shake-lock');
        currentPin = ""; updateDots();
        setTimeout(() => { lockTitle.innerText = "‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡πÉ‡∏à‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞‡∏Ñ‡∏ô‡∏î‡∏µ üîí"; lockTitle.classList.remove('error-text'); }, 1200);
      }, 400);
    }
  }

  /* ============ FLOATING EMOJIS ============ */
  function startFloatingEmojis() {
    setInterval(() => {
        const emojis = ["üß∏", "üíñ", "‚ú®", "üå∏", "üéÄ", "ü•∞", "‚òÅÔ∏è"];
        const e = document.createElement("div");
        e.className = "bg-emoji";
        e.innerText = emojis[Math.floor(Math.random() * emojis.length)];
        e.style.left = Math.random() * 100 + "vw";
        e.style.fontSize = (Math.random() * 20 + 30) + "px";
        e.style.animationDuration = (Math.random() * 5 + 8) + "s";
        document.body.appendChild(e);
        setTimeout(() => e.remove(), 13000);
    }, 1000);
  }

  /* ============ GLOBAL & TIMER ============ */
  const startDate = new Date(2025, 2, 8); 
  function updateTimer() {
    const now = new Date(); const diff = now - startDate;
    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
    const mins = Math.floor((diff / (1000 * 60)) % 60);
    const secs = Math.floor((diff / 1000) % 60);
    document.getElementById("safeTimer").innerHTML = `‡πÄ‡∏£‡∏≤‡∏£‡∏±‡∏Å‡∏Å‡∏±‡∏ô‡∏°‡∏≤<br><span>${days} ‡∏ß‡∏±‡∏ô ${hours} ‡∏ä‡∏°. ${mins} ‡∏ô. ${secs} ‡∏ß.</span>`;
  }
  setInterval(updateTimer, 1000);

  function toggleMenu() {
    document.getElementById('sidebar').classList.toggle('open');
    document.getElementById('overlay').classList.toggle('show');
  }
  function showSection(sectionId) {
    toggleMenu();
    document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
    document.getElementById(sectionId + '-section').classList.add('active');
    if(sectionId === 'game') resetGame();
  }
  function handleLogout() {
    toggleMenu();
    Swal.fire({
      title: '‡∏à‡∏∞‡πÑ‡∏õ‡πÑ‡∏´‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö?', text: '‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏´‡∏±‡∏ß‡πÉ‡∏à‡πÄ‡∏Ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏´‡∏£‡∏≠‡∏Å! üíñ', icon: 'warning',
      confirmButtonText: '‡πÇ‡∏≠‡πÄ‡∏Ñ ‡∏¢‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß ü•∞', confirmButtonColor: '#ff5e78', background: '#fff0f6', color: '#ff5e78'
    });
  }

  /* ============ MUSIC PLAYER CONFIG (‡πÅ‡∏Å‡πâ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏à‡∏£‡∏¥‡∏á) ============ */
  const playlist = [
    { title: "‡∏£‡∏±‡∏Å‡∏£‡∏±‡∏Å‡∏£‡∏±‡∏Å‡∏£‡∏±‡∏Å‡∏£‡∏±‡∏Å‡∏£‡∏±‡∏Å‡∏£‡∏±‡∏Å üíñ", src: "rak.mp3" }, 
    { title: "‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏Å‡πá‡∏£‡∏±‡∏Å üéµ", src: "yung.mp3" }
  ];

  let currentTrack = 0; let isPlaying = false;
  const audio = document.getElementById('audioPlayer');
  const trackName = document.getElementById('trackName');
  const playIcon = document.getElementById('playIcon');
  if (playlist.length > 0) { audio.src = playlist[0].src; trackName.innerText = playlist[0].title; }

  function togglePlay() {
    if (playlist.length === 0) return;
    if (isPlaying) { audio.pause(); playIcon.classList.remove('fa-pause'); playIcon.classList.add('fa-play'); }
    else { audio.play(); playIcon.classList.remove('fa-play'); playIcon.classList.add('fa-pause'); }
    isPlaying = !isPlaying;
  }
  function nextTrack() {
    if (playlist.length === 0) return;
    currentTrack = (currentTrack + 1) % playlist.length;
    audio.src = playlist[currentTrack].src; trackName.innerText = playlist[currentTrack].title;
    if (isPlaying) audio.play();
  }

  /* ============ GAME LOGIC ============ */
  const sadTexts = [
    "‡∏≠‡∏¥‡∏°‡πÄ‡∏°‡∏à‡πÑ‡∏°‡πà‡∏£‡∏±‡∏Å‡πÄ‡∏Ñ‡πâ‡∏≤‡∏à‡∏£‡∏¥‡∏á‡∏î‡∏¥... ü•∫", "‡∏ô‡πâ‡∏≠‡∏¢‡πÉ‡∏à‡∏ô‡∏∞‡πÄ‡∏ô‡∏µ‡πà‡∏¢... üòû", "‡∏Ñ‡∏¥‡∏î‡∏î‡∏µ‡πÜ ‡∏≠‡∏µ‡∏Å‡∏ó‡∏µ‡∏ô‡∏∞‡∏≠‡∏¥‡∏°‡πÄ‡∏°‡∏à üëâüëà", "‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏à‡∏£‡πâ‡∏≤‡∏¢‡∏Å‡∏±‡∏ö‡πÄ‡∏Ñ‡πâ‡∏≤‡∏™‡∏¥", "‡∏õ‡∏∏‡πà‡∏°‡∏´‡∏ô‡∏µ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏´‡πá‡∏ô‡∏°‡∏±‡πâ‡∏¢!",
    "‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ô‡∏∞‡∏ß‡∏¥?", "‡∏Å‡∏î‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏´‡∏£‡∏≠‡∏Å ‡πÅ‡∏ö‡∏£‡πà üòú", "‡∏≠‡∏¥‡∏°‡πÄ‡∏°‡∏à‡∏à‡∏à‡∏à‡∏à‡∏à‡∏à~", "‡πÄ‡∏Ñ‡πâ‡∏≤‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏´‡∏ô‡∏°‡∏ô‡∏∞ üç∞", "‡∏°‡∏∑‡∏≠‡∏´‡∏á‡∏¥‡∏Å‡πÅ‡∏•‡πâ‡∏ß‡∏°‡∏±‡πâ‡∏á‡∏Ñ‡∏ô‡∏î‡∏µ",
    "‡∏õ‡∏∏‡πà‡∏°‡∏à‡∏∞‡∏´‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞‡πÄ‡∏ï‡∏á", "‡∏¢‡∏≠‡∏°‡∏Å‡∏î‡∏£‡∏±‡∏Å‡πÄ‡∏ñ‡∏≠‡∏∞ ‡∏û‡∏•‡∏µ‡∏™‡∏™‡∏™ üôè", "‡∏î‡∏∑‡πâ‡∏≠‡∏à‡∏±‡∏á‡πÄ‡∏•‡∏¢‡∏¢‡∏¢‡∏¢‡∏¢‡∏¢", "‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏°‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏∞‡∏™‡∏¥", "‡∏Æ‡∏∂‡∏ö‡πÑ‡∏ß‡πâ... ‡∏Æ‡∏∂‡∏ö‡πÑ‡∏ß‡πâ...",
    "‡∏≠‡∏µ‡∏Å‡∏ô‡∏¥‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß...", "‡∏à‡∏∞‡πÄ‡∏•‡πá‡∏Å‡πÄ‡∏ó‡πà‡∏≤‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß! üêú", "‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÅ‡∏ß‡πà‡∏ô‡∏Ç‡∏¢‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß‡∏°‡∏±‡πâ‡∏á üîç", "‡∏Å‡∏î‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π‡∏á‡πà‡∏≤‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏¢‡∏≠‡∏∞!", "‡∏á‡∏≠‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÜ ‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞! üò§",
    "‡πÅ‡∏á‡∏á‡∏á‡∏á‡∏á‡∏á‡∏á üò≠", "‡πÉ‡∏à‡πÅ‡∏Ç‡πá‡∏á‡∏î‡∏∏‡∏à‡∏´‡∏¥‡∏ô‡∏ú‡∏≤ üóø", "‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏•‡∏¥‡∏ß‡πÑ‡∏õ‡∏î‡∏≤‡∏ß‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£‡πÅ‡∏•‡πâ‡∏ß üöÄ", "‡∏´‡∏¢‡∏∏‡∏î‡πÅ‡∏Å‡∏•‡πâ‡∏á‡πÄ‡∏Ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡∏ß", "‡πÉ‡∏Å‡∏•‡πâ‡∏à‡∏∞‡∏Å‡∏î‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞‡∏≠‡∏¥‡∏°‡πÄ‡∏°‡∏à",
    "‡πÄ‡∏•‡πá‡∏Å‡∏à‡∏ô‡∏à‡∏¥‡πâ‡∏°‡πÑ‡∏°‡πà‡πÇ‡∏î‡∏ô‡πÅ‡∏•‡πâ‡∏ß!", "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏Å üëè", "‡∏¢‡∏≠‡∏°‡πÅ‡∏û‡πâ‡πÄ‡∏ñ‡∏≠‡∏∞‡∏≠‡∏¥‡∏°‡πÄ‡∏°‡∏à‡∏à‡∏à", "‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞!", "‡∏à‡∏ö‡∏Ç‡πà‡∏≤‡∏ß! ‡∏£‡∏±‡∏Å‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ã‡∏∞‡∏î‡∏µ‡πÜ üòé"
  ];
  let count = 0; let noScale = 1; let isLoved = false; const LIMIT = 30; 
  const q = document.getElementById("question"); const msg = document.getElementById("message");
  const yesBtn = document.getElementById("yesBtn"); const noBtn = document.getElementById("noBtn");
  const safeHeader = document.getElementById("safeHeader"); const safeTimer = document.getElementById("safeTimer");
  const safeContainer = document.getElementById("safeContainer"); const safePlayer = document.getElementById("safePlayer");

  function resetGame() {
      count = 0; noScale = 1; isLoved = false;
      q.innerText = "‡∏≠‡∏¥‡∏°‡πÄ‡∏°‡∏à‡∏£‡∏±‡∏Å‡πÄ‡∏Ñ‡πâ‡∏≤‡πÑ‡∏´‡∏°? ü•∫"; q.style.color = "#ff5e78";
      msg.innerText = "‡∏ö‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á‡∏°‡∏≤‡∏ô‡∏∞...";
      noBtn.style.display = "inline-block"; noBtn.style.position = "relative"; 
      noBtn.style.left = "auto"; noBtn.style.top = "auto"; noBtn.style.transform = "scale(1)";
  }
  function isOverlap(rect1, rect2) {
    return !(rect1.right < rect2.left || rect1.left > rect2.right || rect1.bottom < rect2.top || rect1.top > rect2.bottom);
  }
  function moveButton() {
    noBtn.style.position = "fixed"; 
    const headerRect = safeHeader.getBoundingClientRect();
    const timerRect = safeTimer.getBoundingClientRect();
    const containerRect = safeContainer.getBoundingClientRect();
    const playerRect = safePlayer.getBoundingClientRect();

    let safe = false; let newX, newY; let attempts = 0;
    while (!safe && attempts < 50) {
      attempts++;
      newX = Math.random() * (window.innerWidth - noBtn.offsetWidth - 20) + 10;
      newY = Math.random() * (window.innerHeight - noBtn.offsetHeight - 20) + 10;
      const btnRect = { left: newX, right: newX + noBtn.offsetWidth, top: newY, bottom: newY + noBtn.offsetHeight };
      const buffer = 15; 
      const hitHeader = isOverlap(btnRect, { ...headerRect, bottom: headerRect.bottom + buffer });
      const hitTimer = isOverlap(btnRect, { ...timerRect, right: timerRect.right + buffer, bottom: timerRect.bottom + buffer });
      const hitContainer = isOverlap(btnRect, { ...containerRect, top: containerRect.top - buffer, bottom: containerRect.bottom + buffer });
      const hitPlayer = isOverlap(btnRect, { ...playerRect, top: playerRect.top - buffer });
      if (!hitHeader && !hitTimer && !hitContainer && !hitPlayer) safe = true;
    }
    if (!safe) { newY = window.innerHeight - noBtn.offsetHeight - 150; newX = window.innerWidth - noBtn.offsetWidth - 20; }
    noBtn.style.left = newX + "px"; noBtn.style.top = newY + "px";
  }
  function spawnHearts() {
    const heart = document.createElement("div"); heart.className = "heart-float";
    heart.innerHTML = ["‚ù§Ô∏è","üíñ","ü•∞","üå∏","‚ú®"][Math.floor(Math.random()*5)];
    heart.style.left = Math.random() * 100 + "vw"; heart.style.top = "100vh";
    heart.style.fontSize = (Math.random() * 25 + 20) + "px";
    document.body.appendChild(heart); setTimeout(() => heart.remove(), 4000);
  }
  yesBtn.onclick = () => {
    q.classList.remove("shake"); q.innerText = "‡πÄ‡∏¢‡πâ! ‡∏≠‡∏¥‡∏°‡πÄ‡∏°‡∏à‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î üíñ"; q.style.color = "#ff5e78";
    msg.innerText = "‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ô‡∏∞‡∏Ñ‡πâ‡∏≤‡∏ö"; isLoved = true; 
    yesBtn.style.transform = "scale(1.1)"; setTimeout(() => yesBtn.style.transform = "scale(1)", 200);
    if (count < LIMIT) { noBtn.style.display = "inline-block"; noBtn.style.transform = `scale(${noScale})`; }
    for(let i=0; i<30; i++) setTimeout(spawnHearts, i*100);
  };
  noBtn.onclick = (e) => {
    e.stopPropagation();
    if (isLoved) {
      q.innerText = "‡∏≠‡∏¥‡∏°‡πÄ‡∏°‡∏à‡∏ó‡∏≥‡πÑ‡∏°‡∏ó‡∏≥‡∏á‡∏µ‡πâ‡∏≠‡πà‡∏≤‡∏≤‡∏≤!!!"; msg.innerText = "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏µ‡πâ‡∏¢‡∏±‡∏á‡∏ö‡∏≠‡∏Å‡∏£‡∏±‡∏Å‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏•‡∏¢‡∏¢‡∏¢! üò≠";
      q.classList.add("shake"); setTimeout(() => q.classList.remove("shake"), 500);
      moveButton(); isLoved = false; return;
    }
    count++;
    if (count <= sadTexts.length) msg.innerText = sadTexts[count - 1];
    q.innerText = "‡∏≠‡∏¥‡∏°‡πÄ‡∏°‡∏à‡∏£‡∏±‡∏Å‡πÄ‡∏Ñ‡πâ‡∏≤‡πÑ‡∏´‡∏°?"; q.style.color = "#ff5e78";
    noScale = 1 - (count * 0.032); if (noScale < 0.1) noScale = 0.05; 
    noBtn.style.transform = `scale(${noScale})`;
    if (count >= LIMIT) { noBtn.style.display = "none"; msg.innerText = "‡∏õ‡∏∏‡πà‡∏°‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß... ‡∏£‡∏±‡∏Å‡πÄ‡∏Ñ‡πâ‡∏≤‡πÄ‡∏ñ‡∏≠‡∏∞ üòé"; q.innerText = "‡∏´‡∏°‡∏î‡∏ó‡∏≤‡∏á‡∏´‡∏ô‡∏µ!"; } else { moveButton(); }
  };
</script>
</body>
</html>
